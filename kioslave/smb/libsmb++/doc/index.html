<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE>Libsmb on-line documentation</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.0 (Unix)">
	<META NAME="AUTHOR" CONTENT="Brodu Nicolas">
	<META NAME="CREATED" CONTENT="19990523;19412100">
	<META NAME="CHANGEDBY" CONTENT="Brodu Nicolas">
	<META NAME="CHANGED" CONTENT="20000216;18485100">
	<STYLE>
	<!--
		A:link { color: #ee1100 }
		A:visited { color: #aa0000 }
	-->
	</STYLE>
</HEAD>
<BODY LINK="#ee1100" VLINK="#aa0000" BGCOLOR="#ffffff">
<P ALIGN=CENTER><FONT COLOR="#000000"><IMG SRC="onLineDoc.jpg" NAME="Graphic1" ALIGN=BOTTOM WIDTH=599 HEIGHT=40 BORDER=0></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#000080"><U><B>Index :</B></U></FONT></P>
<P ALIGN=LEFT><A HREF="#method list">Method list</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#file management">File
management</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#options">Options</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#utility functions">Utility
functions</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#name service">Name
service</A><BR><A HREF="#related classes">Related classes</A></P>
<P ALIGN=LEFT><BR><BR>
</P>
<H2><A NAME="method list"></A><FONT COLOR="#000080"><I><U>Method list</U></I></FONT></H2>
<H3><A NAME="file management"></A><FONT COLOR="#000080">File
management (SMB class)</FONT></H3>
<P><FONT COLOR="#333333">Opens a file. URLs are accepted. Works as
its standard equivalent.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/open.html">open</A>(<FONT COLOR="#198a8a">const
char</FONT>* file=&quot;&quot;, <FONT COLOR="#198a8a">int</FONT>
flags=O_RDWR, <FONT COLOR="#198a8a">int</FONT> mode=<FONT COLOR="#0000ff">0644</FONT>)</P>
<P><FONT COLOR="#333333">Create a file. URLs are accepted. Works as
its standard equivalent.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/creat.html"><SPAN STYLE="font-style: normal">creat</SPAN></A>(<FONT COLOR="#198a8a">const
char</FONT>* file=&quot;&quot;, <FONT COLOR="#198a8a">int</FONT>
mode=<FONT COLOR="#0000ff">0644</FONT>)</P>
<P><FONT COLOR="#333333">Reads from an &quot;opened&quot; file
descriptor. Does caching.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/read.html">read</A>(<FONT COLOR="#198a8a">int</FONT>
fd, <FONT COLOR="#198a8a">void</FONT> *buf, <FONT COLOR="#198a8a">uint32</FONT>
count)</P>
<P><FONT COLOR="#333333">Writes to &quot;opened&quot; file
descriptor. Does caching.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/write.html">write</A>(<FONT COLOR="#198a8a">int</FONT>
fd, <FONT COLOR="#198a8a">void</FONT> *buf, <FONT COLOR="#198a8a">uint32</FONT>
count)</P>
<P><FONT COLOR="#333333">Close the file associated with this file
descriptor<BR></FONT><FONT COLOR="#198a8a">int</FONT> <A HREF="methods/close.html">close</A>(<FONT COLOR="#198a8a">int</FONT>
fd)</P>
<P><FONT COLOR="#333333">Flush forces a write of all buffered data
for the given fd<BR></FONT><FONT COLOR="#198a8a">int</FONT> <A HREF="methods/flush.html">flush</A>(<FONT COLOR="#198a8a">int</FONT>
fd)</P>
<P><FONT COLOR="#333333">Position the file position pointer for this
file descriptor<BR></FONT><FONT COLOR="#198a8a">int32</FONT>
<A HREF="methods/lseek.html">lseek</A>(<FONT COLOR="#198a8a">int</FONT>
fd, <FONT COLOR="#198a8a">int32</FONT> offset, <FONT COLOR="#198a8a">int</FONT>
from)</P>
<P><FONT COLOR="#333333">Unlink will delete or unlink the file
depending on target OS</FONT><BR><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/unlink.html">unlink</A>(<FONT COLOR="#198a8a">const
char</FONT> *file)</P>
<P><FONT COLOR="#333333">Renames a file, but doesn't move it between
directories</FONT><BR><FONT COLOR="#198a8a">int</FONT> <A HREF="methods/rename.html">rename</A>(<FONT COLOR="#198a8a">const
char</FONT> *fileURL, <FONT COLOR="#198a8a">const char</FONT>
*newname)</P>
<P><FONT COLOR="#333333">Stats a file/directory. URLs are accepted.
Works as its standard equivalent.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/stat.html">stat</A>(<FONT COLOR="#198a8a">const char</FONT>
*filename, <FONT COLOR="#198a8a">struct</FONT> stat *buf)</P>
<P><FONT COLOR="#333333">Stats the file/directory corresponding to
this fd.<BR></FONT><FONT COLOR="#198a8a">int</FONT> <A HREF="methods/fstat.html">fstat</A>(<FONT COLOR="#198a8a">int</FONT>
fd, <FONT COLOR="#198a8a">struct</FONT> stat *buf)</P>
<P><FONT COLOR="#333333">Opens a directory referenced by URL. Returns
a directory descriptor.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/opendir.html">opendir</A>(<FONT COLOR="#198a8a">const
char</FONT> *name)</P>
<P><FONT COLOR="#333333">Reads from an &quot;opened&quot; directory
descriptor. Does caching.<BR></FONT>SMBdirent *<A HREF="methods/readdir.html">readdir</A>(<FONT COLOR="#198a8a">int</FONT>
dirdesc)</P>
<P><FONT COLOR="#333333">Close the directory associated with this
file descriptor<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/closedir.html">closedir</A>(<FONT COLOR="#198a8a">int</FONT>
dirdesc)</P>
<P><FONT COLOR="#333333">Position the position pointer for this
directory descriptor.<BR></FONT><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/rewinddir.html">rewinddir</A>(<FONT COLOR="#198a8a">int</FONT>
dirdesc)</P>
<P><FONT COLOR="#333333">Creates a directory with URL pathname</FONT><BR><FONT COLOR="#198a8a">int</FONT>
<A HREF="methods/mkdir.html">mkdir</A>(<FONT COLOR="#198a8a">const
char</FONT> *pathname)</P>
<P><FONT COLOR="#333333">Deletes the directory pointed by the URL
pathname</FONT><BR><FONT COLOR="#198a8a">int</FONT> <A HREF="methods/rmdir.html">rmdir</A>(<FONT COLOR="#198a8a">const
char</FONT> *pathname)</P>
<H3><BR><BR>
</H3>
<H3><A NAME="options"></A><FONT COLOR="#000080">Options (SMB class)</FONT></H3>
<P><FONT COLOR="#333333">Specify a callback for the library to get
user answers (passwords, login names)<BR></FONT><FONT COLOR="#198a8a">void</FONT>
<A HREF="methods/setPasswordCallback.html">setPasswordCallback</A>(SmbAnswerCallback
*getObject)</P>
<P><FONT COLOR="#333333">Specify a default user, instead of anonymous
access<BR></FONT><FONT COLOR="#198a8a">void</FONT>
<A HREF="methods/setDefaultUser.html">setDefaultUser</A>(<FONT COLOR="#198a8a">const
char</FONT> *userName)</P>
<P><FONT COLOR="#333333">Makes browsing possible without samba
installed locally<BR></FONT><FONT COLOR="#198a8a">void</FONT>
<A HREF="methods/setDefaultBrowseServer.html">setDefaultBrowseServer</A>(<FONT COLOR="#198a8a">const
char</FONT> *serverName)</P>
<P><FONT COLOR="#333333">Set the charset to use (in native code
only)<BR></FONT><FONT COLOR="#198a8a">void</FONT> <A HREF="methods/setCharSet.html">setCharSet</A>(<FONT COLOR="#198a8a">const
char</FONT> *aCharSet)</P>
<H3><BR><BR>
</H3>
<H3><A NAME="utility functions"></A><FONT COLOR="#000080">Utility
functions (Util class)</FONT></H3>
<P><FONT COLOR="#333333">Parser for smb URLs. It can interpret &quot;.&quot;
and &quot;..&quot; as subdirectories, and query for
hosts/workgroups.</FONT><BR><FONT COLOR="#198a8a">void</FONT>
<A HREF="methods/parse.html">parse</A>(<FONT COLOR="#198a8a">const
char</FONT> *name, <FONT COLOR="#198a8a">bool</FONT> interpretDirs =
<FONT COLOR="#0000ff">true</FONT>)</P>
<P><FONT COLOR="#333333">Those functions return the corresponding
components of the last parsed URL. See &quot;parse&quot; for
details.</FONT><BR><FONT COLOR="#198a8a">char</FONT>* user()<BR><FONT COLOR="#198a8a">char</FONT>*
password()<BR><FONT COLOR="#198a8a">char</FONT>* ip()<BR><FONT COLOR="#198a8a">char</FONT>*
workgroup()<BR><FONT COLOR="#198a8a">char</FONT>* host()<BR><FONT COLOR="#198a8a">char</FONT>*
share()<BR><FONT COLOR="#198a8a">char</FONT>* path()</P>
<P><FONT COLOR="#333333">It's also possible to override the current
values (used mainly internally)</FONT><BR><FONT COLOR="#198a8a">char</FONT>*
user(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
password(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
ip(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
workgroup(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
host(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
share(<FONT COLOR="#198a8a">const char</FONT>* newValue)<BR><FONT COLOR="#198a8a">char</FONT>*
dir(<FONT COLOR="#198a8a">const char</FONT>* newValue)</P>
<P><FONT COLOR="#333333">Does the opposite of the parser<BR></FONT><FONT COLOR="#198a8a">char</FONT>
*<A HREF="methods/buildURL.html">buildURL</A>(<FONT COLOR="#198a8a">const
char</FONT>* user=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT>* password=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT>* workgroup=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT> *host=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT>* share=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT>* path=<FONT COLOR="#0000ff">0</FONT>, <FONT COLOR="#198a8a">const
char</FONT>* ip=<FONT COLOR="#0000ff">0</FONT>)</P>
<P><FONT COLOR="#333333">Appends a string to a URL, making it another
URL. Subdirs &quot;..&quot; and &quot;.&quot; can be recognized and
interpreted</FONT><BR><FONT COLOR="#198a8a">char</FONT> *<A HREF="methods/append.html">append</A>(<FONT COLOR="#198a8a">const
char</FONT>* URL, <FONT COLOR="#198a8a">const char</FONT> *string,
<FONT COLOR="#198a8a">bool</FONT> interpretDirs = <FONT COLOR="#0000ff">true</FONT>)</P>
<H3><BR><BR>
</H3>
<H3><A NAME="name service"></A><FONT COLOR="#000080">Name service
(NMB class)</FONT></H3>
<P><FONT COLOR="#333333">Name query that can find <FONT COLOR="#333333">NetBIOS
names as well.</FONT><BR></FONT><FONT COLOR="#198a8a">struct</FONT>
hostent *<A HREF="methods/gethostbyname.html">gethostbyname</A>(<FONT COLOR="#198a8a">const
char</FONT> *name)</P>
<P><BR><BR>
</P>
<H2><A NAME="related classes"></A><FONT COLOR="#000080"><I><U>Related
classes</U></I></FONT></H2>
<P><FONT COLOR="#333333">This class replaces the structure dirent,
and provides more useful fields<BR></FONT><FONT COLOR="#198a8a">class</FONT>
<A HREF="methods/SMBdirent.html">SMBdirent</A></P>
<P><FONT COLOR="#333333">Derive this class to implement a way for the
library to get user feedback.<BR></FONT><FONT COLOR="#198a8a">class</FONT>
<A HREF="methods/SmbAnswerCallback.html">SmbAnswerCallback</A></P>
<HR>
<P ALIGN=RIGHT><FONT COLOR="#4c4c4c"><I>Copyright &copy; Nicolas
Brodu, 1999 - 2000</I></FONT></P>
</BODY>
</HTML>